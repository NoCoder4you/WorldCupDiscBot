
:root{ --bg:#0b1220; --fg:#e5e7eb; --muted:#9ca3af; --card:#131c2b; --accent:#10b981; --danger:#ef4444; --border:rgba(255,255,255,.08) }
*{ box-sizing:border-box }
body{ margin:0; background:var(--bg); color:var(--fg); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; }
.light-theme{ --bg:#f8fafc; --fg:#0b1220; --muted:#374151; --card:#ffffff; --accent:#0ea5e9; --border:rgba(0,0,0,.08) }

/* Header */
.topbar{ display:flex; align-items:center; gap:10px; padding:10px 14px; border-bottom:1px solid var(--border); position:sticky; top:0; background:var(--bg); z-index:5 }
.brand{ font-weight:700 }
.menu{ margin-left:auto }
.menu ul{ list-style:none; margin:0; padding:0; display:flex; gap:8px }
.menu a{ display:inline-block; padding:8px 12px; border-radius:8px; cursor:pointer; user-select:none }
.menu a.active{ background:var(--accent); color:#fff }
.hamburger{ display:none; margin-left:12px; cursor:pointer }
#menu-toggle{ display:none }
.theme-toggle-btn{ margin-left:10px; border:1px solid var(--border); background:transparent; color:var(--fg); border-radius:8px; padding:6px 10px; cursor:pointer }

/* Layout */
.content{ padding:16px; max-width:1200px; margin:0 auto }
.page-section{ display:none }
.active-section{ display:block }

.card{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:14px; }
.row{ display:flex; align-items:center; gap:10px }
.space-between{ justify-content:space-between }

.btn{ border:1px solid var(--border); background:transparent; color:var(--fg); border-radius:8px; padding:8px 10px; cursor:pointer }
.btn:hover{ filter:brightness(0.95) }
.btn.danger{ background:var(--danger); border-color:var(--danger); color:#fff }

/* Admin visibility */
[data-admin="true"]{ display:none !important }
body.admin-mode [data-admin="true"]{ display:block !important }
.requires-admin{ display:none !important }
body.admin-mode .requires-admin{ display:inline-flex !important }

/* Dashboard gauges */
.stats-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:12px }
.gauge{ background:rgba(255,255,255,.03); border:1px solid var(--border); border-radius:12px; padding:10px; display:flex; align-items:center; gap:10px }
.gauge svg{ width:64px; height:64px }
.gauge-bg{ fill:none; stroke:#2b3447; stroke-width:6; opacity:.8 }
.gauge-bar{ fill:none; stroke:var(--accent); stroke-width:6; stroke-linecap:round; transform:rotate(-90deg); transform-origin:50% 50% }
.gauge-text{ font:600 12px/1.2 system-ui; fill:var(--fg) }
.gauge-label{ font-size:13px; color:var(--muted) }
.mini{ background:rgba(255,255,255,.03); border:1px solid var(--border); border-radius:12px; padding:10px }
.mini-title{ font-size:13px; color:var(--muted) }
.mini-value{ font-size:20px; margin-top:4px }
.mini-sub{ color:var(--muted); font-size:12px; margin-top:6px }
.bot-down{ color:#fca5a5; font-size:12px }

.dash-actions{ margin-top:12px; display:flex; gap:8px; flex-wrap:wrap }

/* Tables (for dynamic pages) */
.table{ width:100%; border-collapse:collapse }
.table th,.table td{ padding:8px 10px; border-bottom:1px solid var(--border) }
.table-scroll{ overflow:auto; max-height:60vh }

/* Notify bar */
#notify-bar{ position:fixed; left:0; right:0; bottom:12px; display:flex; justify-content:center; pointer-events:none; z-index:10003 }
#notify-bar .notify-success{ background:var(--accent); color:#fff; padding:8px 12px; border-radius:8px; }
#notify-bar .notify-error{ background:var(--danger); color:#fff; padding:8px 12px; border-radius:8px; }

/* FAB */
#adminFab{ position:fixed; bottom:20px; right:20px; width:56px; height:56px; border-radius:50%; border:none; font-size:26px; background:var(--accent); color:#fff; cursor:pointer; box-shadow:0 6px 14px rgba(0,0,0,.25); z-index:10000 }
#adminFab:hover{ transform:scale(1.08) }

/* Popover */
.wc-popover{ position:fixed; bottom:86px; right:20px; display:none; z-index:10001 }
.wc-popover.show{ display:block }
.wc-popover__card{ min-width:260px; background:var(--card); color:var(--fg); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow:0 14px 34px rgba(0,0,0,.35) }
.wc-popover__row{ display:flex; gap:8px; margin-top:8px }
.wc-popover__row:first-child{ margin-top:0 }
.wc-popover input[type=password]{ flex:1; padding:10px 12px; background:#0a0f1a; color:var(--fg); border:1px solid var(--border); border-radius:8px; outline:none }
.wc-popover button.ghost{ background:transparent; border:1px solid var(--border) }
.wc-popover__error{ color:#fca5a5; margin:6px 2px 0; font-size:13px }

/* Modal */
.wc-modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.45); z-index:10002 }
.wc-modal.show{ display:flex }
.wc-modal__dialog{ width:min(700px,95vw); background:var(--card); border:1px solid var(--border); border-radius:12px; overflow:hidden; color:var(--fg) }
.wc-modal__header{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border) }
.wc-modal__body{ padding:14px }
.wc-modal__close{ background:transparent; border:none; color:var(--fg); font-size:26px; cursor:pointer }

/* Ownership flags */
.unassigned-icon{ font-size:14px; vertical-align:middle }
.row-unassigned .owners{ opacity:.9 }

/* Split dot menu */
.split-dotmenu{ background:var(--card); border:1px solid var(--border); border-radius:8px; padding:6px; box-shadow:0 8px 22px rgba(0,0,0,.35); }
.split-dotmenu .split-dotmenu-action{ display:block; width:160px; text-align:left; padding:8px 10px; background:transparent; border:none; color:var(--fg); cursor:pointer }
.split-dotmenu .split-dotmenu-action:hover{ background:rgba(255,255,255,.06) }

/* Responsive */
@media (max-width: 840px){
  .menu ul{ display:none }
  #menu-toggle:checked + .hamburger + ul{ display:flex; position:absolute; right:10px; top:50px; flex-direction:column; background:var(--card); border:1px solid var(--border); border-radius:10px; padding:10px; gap:4px }
}
